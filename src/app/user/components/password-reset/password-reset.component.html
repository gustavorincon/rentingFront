<div class="wrapper fadeInDown">
    <div id="formContent">
        <!-- Tabs Titles -->
        <div class="sign-in-out-title">
            <h2>Recuperar cuenta</h2>
        </div>

        <div id="changePassword">
            <input type="email" [(ngModel)]="emailField" id="login-email" class="fadeIn second" name="email" placeholder="Ingrese su email, te enviaremos un código">
            <button (click)="recoverAccount()" class="btn btn-primary mr-1">1. Enviar código</button>
        </div>
        <ngb-alert #selfClosingAlert *ngIf="codeErrorMessage" type="danger" (closed)="authErrorMessage = ''">{{ codeErrorMessage }}</ngb-alert>
        <ngb-alert #selfClosingAlert *ngIf="codeSucessMessage" type="info" (closed)="codeSucessMessage = ''">{{ codeSucessMessage }}</ngb-alert>

        <!-- Recover Form -->
        <form [formGroup]="recoverForm" (ngSubmit)="changePwd()">
            <input type="text" formControlName="verificationCode" id="verification-code" class="fadeIn second" name="code" placeholder="Ingresa el código que recibiste al correo">
            <input type="password" formControlName="newPwd" id="password" class="fadeIn third" name="newPwd" placeholder="Ingrese nueva contraseña">
            <div *ngIf="f.newPwd.errors" class="invalid-feedback">
                <div *ngIf="f.newPwd.errors.required">Campo requerido</div>
                <div *ngIf="f.newPwd.errors.minlength">debe ingresar mínimo 6 carácteres</div>
                <div *ngIf="f.newPwd.errors.maxlength">debe ingresar mínimo 12 carácteres</div>
            </div>
            <input type="password" formControlName="newPwd2" id="passwordConfirm" class="fadeIn third" name="newPwd2" placeholder="Repite nueva contraseña">
            <div *ngIf="f.newPwd2.errors" class="invalid-feedback">
                <div *ngIf="f.newPwd2.errors.mustMatch">Contraseñas deben ser iguales</div>
            </div>
            <button class="btn btn-primary mr-1">2. Cambiar contraseña</button>
        </form>
        <ngb-alert #selfClosingAlert *ngIf="recoverErrorMessage" type="danger" (closed)="recoverErrorMessage = ''">{{ recoverErrorMessage }}</ngb-alert>
        <ngb-alert #selfClosingAlert *ngIf="recoverSucessMessage" type="info" (closed)="recoverSucessMessage = ''">{{ recoverSucessMessage }}</ngb-alert>
        <!-- Remind Password -->
        <div id="formFooter">
            <a class="underlineHover" href="/renta/usuario/login">¿Recordaste tu usuario y clave?</a>
        </div>
    </div>
</div>