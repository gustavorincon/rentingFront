<div class="wrapper fadeInDown">
    <div id="formContent">
        <!-- Tabs Titles -->
        <div class="sign-in-out-title">
            <h2>Recuperar cuenta</h2>
        </div>

        <form [formGroup]="codeForm" (ngSubmit)="recoverAccount()">
            <input type="email" formControlName="email" id="email" class="fadeIn second" name="email" placeholder="Ingrese su email, te enviaremos un código" [ngClass]="{ 'is-invalid': submitted && fCode.email.errors }" >
            <div *ngIf="fCode.email.errors" class="invalid-feedback">
                <div *ngIf="submitted && fCode.email.errors.required">Campo requerido</div>
                <div *ngIf="submitted && fCode.email.errors.email">Debe ser un correo válido</div>
            </div>
            <button  class="btn btn-primary mr-1">1. Enviar código</button>
        </form>
        <ngb-alert #selfClosingAlert *ngIf="codeErrorMessage" type="danger" (closed)="authErrorMessage = ''">{{ codeErrorMessage }}</ngb-alert>
        <ngb-alert #selfClosingAlert *ngIf="codeSucessMessage" type="info" (closed)="codeSucessMessage = ''">{{ codeSucessMessage }}</ngb-alert>

        <!-- Recover Form -->
        <form [formGroup]="recoverForm" (ngSubmit)="changePwd()">
            <input type="text" formControlName="verificationCode" id="verificationCode" class="fadeIn second" name="verificationCode" placeholder="Ingresa el código que recibiste al correo" [ngClass]="{ 'is-invalid': submitted && f.verificationCode.errors }">
            <div *ngIf="f.verificationCode.errors" class="invalid-feedback">
                <div *ngIf="submitted && f.verificationCode.errors.required">Campo requerido</div>
            </div>
            <input type="password" formControlName="newPwd" id="newPwd" class="fadeIn third" name="newPwd" placeholder="Ingrese nueva contraseña" [ngClass]="{ 'is-invalid': submitted && f.newPwd.errors }">
            <div *ngIf="f.newPwd.errors" class="invalid-feedback">
                <div *ngIf="submitted && f.newPwd.errors.required">Campo requerido</div>
                <div *ngIf="submitted && f.newPwd.errors.minlength">debe ingresar mínimo 6 carácteres</div>
                <div *ngIf="submitted && f.newPwd.errors.maxlength">debe ingresar mínimo 12 carácteres</div>
            </div>
            <input type="password" formControlName="newPwd2" id="newPwd2" class="fadeIn third" name="newPwd2" placeholder="Repite nueva contraseña" [ngClass]="{ 'is-invalid': submitted && f.newPwd2.errors }">
            <div *ngIf="f.newPwd2.errors" class="invalid-feedback">
                <div *ngIf="f.newPwd2.errors.required">Campo requerido</div>
                <div *ngIf="submitted && f.newPwd2.errors.mustMatch">Contraseñas deben ser iguales</div>
            </div>
            <button class="btn btn-primary mr-1">2. Cambiar contraseña</button>
        </form>
        <ngb-alert #selfClosingAlert *ngIf="recoverErrorMessage" type="danger" (closed)="recoverErrorMessage = ''">{{ recoverErrorMessage }}</ngb-alert>
        <ngb-alert #selfClosingAlert *ngIf="recoverSucessMessage" type="info" (closed)="recoverSucessMessage = ''">{{ recoverSucessMessage }}</ngb-alert>
        <!-- Remind Password -->
        <div id="formFooter">
            <a class="underlineHover" href="/renta/usuario/login">Ya tengo usuario y clave</a>
        </div>
    </div>
</div>